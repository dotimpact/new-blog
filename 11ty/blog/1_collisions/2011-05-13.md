---
id: 421
title: あたらしいBCCKSと電子書籍リーダー
author: dotimpact
layout: post
date: 2011-05-13
tags:
   - info
   - javascript
   - text
---
<img src="/hexo/images/wp-content/uploads/2011/05/bccks_reader.png" alt="bccks_reader" title="bccks_reader.png" border="0" width="600" height="514" style="display:block; margin-left:auto; margin-right:auto;" />

■去年の夏ごろから開発スタッフとして参加している[BCCKS][1]のマルチデバイス対応リニューアルプロジェクトでつくっているものが、なんとかようやく発表できる段階となり、[6/2の発表会][2]をひかえてそのあたらしいBCCKSでつくられた「本」をPCリーダーで読めるサンプルが公開されました。田中はこのPCリーダーの縦書組版をふくむレイアウトエンジンの実装や、新しいブックデータのフォーマット検討作業、あとサービス側のエディタなどもろもろを担当しております。ていうかまだ終わってないんですけどね。

  * [あたらしいBCCKSリーダー][3]
      * ※ちなみにWindows環境のかたはできればSafariで、フォント表示設定を「Wndows標準」から変更したうえで見ていただけるとベターです。
      * さらにIPAフォントをインストールしておいたりするとモアベターです。[こんな感じになります][4]

計画とサービスの全容については発表会でみっちり発表されるはずなので6/2をお待ちいただければと思うんですけども、僕が担当してる電子書籍リーダーの技術方面については実際に開発にかかわってみて個人的に考えたところもあるので勝手に書きつけておこうと思います。

■電子書籍というものがすでにある音楽や映像の電子流通とやや事情がことなるところに、一般に「書籍」というものに、たんなるデータではなく「データを表象するデザイン」が期待されているという点があります。本質的にはデータストリームである音声や映像などとことなり、書籍はデータとしての内容が必要なのは当然ながらも、その可読性や内容の価値を説得するデザインやパッケージングがしつらえられて初めてそれなりの商品価値が生まれるのであり、もっというと商品価値に相応するデザインやパッケージングがなされた状態のもののことをわれわれは「書籍」と呼ぶことが多いはずです。

この「書籍」なるものにたいする期待に応えるべくいわゆる電子書籍やそのリーダーアプリケーションは提供されなければならないわけですけども、さらに困難なことに「書籍のデザイン」とされるものはそう単純なものではなく、いくつものレイヤーでのデザインが集約されていなければなりません。その最たるものが書籍における「ページ単位のデザイン」と「ドキュメント単位のデザイン」の関係です。このうち「ドキュメント単位のデザイン」については、htmlのマークアップとcssによるスタイリングというある程度枯れたWeb技術があり、現在本命といわれているリフロー型電子書籍フォーマットとされているものはどれもhtml+cssを採用してドキュメントをデザインしていますが、このドキュメント単位でデザインされたコンテンツにどうやって「ページ単位のデザイン」を定義すべきか、という問題については、現状の電子書籍技術およびWeb技術はミドルウェアどころかノウハウも蓄積されていないんじゃないだろうか、ということを僕は今回電子書籍リーダーを作りながら考えていました。Webの世界ではスクロールバーがあれば解決できていたことだからです。

電子書籍にスクロールバーがあったらいけないか、ということについては議論の余地がありますが、すくなくとも現状の「書籍」にたいする期待に添うものとは言えないでしょう。そして、立体物、物質としての魅力をもたない電子書籍にとって、唯一「書籍」としての商品性を主張できるのが「ページ単位でのデザイン」になるはずです。またそれは読書のインターフェイスとしての機能性（どんなデバイスでも最適に読めるとか、文字の大きさが変えられるだとか）もあわせもつ必要があり、しかもレンダリングをWebコンポーネントにおまかせできずドキュメントのパースから画像や文字のプロット、レンダリングまでをすべて面倒見る必要があるため技術的な難易度も高い〔面倒くさい）。電子書籍とそのリーダーにおけるページデザイン／レンダリングはおそらく最も重要な技術になりますが、たとえば現在策定中のEPUB3.0のドラフトを見ても、ページ単位でのデザイン、スタイリングに対する仕様や議論はほとんど出てこないように見えます（そこまで精読してるわけじゃないのであったら教えてください。あるいはEPUBは汎用の刊行物コンテナの仕様なので特定のビューに対する議論はしないみたいな方針なんでしょうか）。

というわけで、あたらしいBCCKSでは、リフローときれいなページレイアウトを両立させるべく、htmlの特定のマークアップパターンで分割されたテキストブロックごとに、版面設定、エレメントのページへの配置スタイルなどのページレイアウトスタイルを定義する独自仕様のスタイルシートを用意する、独自フォーマットを使用することにしました。独自フォーマットといってもコンテナの仕様はEPUB互換なので、EPUBリーダーむけスタイルシートを用意することでEPUBリーダーでも読むことができるものになる予定です。もちろん各デバイススクリーンの寸法や解像度に合わせたページレイアウトを多重定義して、それぞれに最適なページデザインでのレンダリングを行うiPhone/iPad/Androidアプリも開発中です（こっちは僕の担当ではないですが）。

今回開発にたずさわって書籍デザインのキモについてはじめて知ったり実感したことも多いのですけど、本のページデザインというのは、版面（はんづら：ページの中で組版を行う矩形領域）とそこに流れる本文サイズと行間というものをかなり固いルールとしてさまざまな条件を考慮して設計し、文字や写真をこの版面の矩形をなるべく満たすように配置しながら時にはずしたりすることで基調を保ちながら本としてのリズムをつくるところにあるのだそうです。こういうことはできるようにしてほしい、という条件を組み込んでようやくスタイルをテストできるようにしたリーダーをつい先日ご存知[スタジオボイスを廃刊に追い込んだ前科二犯のグラフィックデザイナー][5]こと松本弦人さんに渡したところあっというまにできてきたのが公開されてるサンプルブックです。

<img style="display:block; margin-left:auto; margin-right:auto;" src="/hexo/images/wp-content/uploads/2011/05/bccks_reader2.png" alt="bccks reader" title="bccks_reader2.png" border="0" width="600" height="514" />

これを最初に見せてもらったときはテキストが「本」にデザインされるこういうことかーと思いました。この仕組みでの他のデザイナーの「本」がどうなるのかも見てみたいですなー。

まだサービスとして一般公開するには開発の難関をいく山か越えねばならないのですが、ひとまず[6/2の発表会をご期待くださいませ！][2]

 [1]: http://bccks.jp/
 [2]: http://enq.bccks.jp/wZBp5QkG2DKZseGi/
 [3]: http://labs.bccks.jp/
 [4]: http://dl.dropbox.com/u/5872168/vista_safari_aa_ipa1.png
 [5]: http://twitter.com/#!/nabetanne/status/58370251863240704
