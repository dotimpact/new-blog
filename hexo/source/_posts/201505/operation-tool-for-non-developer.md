title: プログラマーじゃない人に使ってもらう運用ツールをなにで作るか
date: 2015-05-19
pid: 0c0bce37cc88b1d5d22bb0cb8888d516
status: p
tags:
- programming
- text
---

今している仕事ではアプリの開発のほかに既存の紙の本の組版データからコンテンツのデータを再構成するような作業があって、xlsxファイルに変換＋人力で構造化された本のデータと画像ファイル群からhtmlとsqlite3のdbファイルを作るようなスクリプトを僕がrubyで作ってまわしていたんだけど、スケジュールが逼迫しているため修正後のhtml状態での確認を作業者にしてもらうためにrubyスクリプトを渡して作業してもらうことになった。さいわい作業者のマシンもMacだったのでruby実行環境の心配は必要なかったんだけど、sqlite3のgemはネイティブライブラリなのでビルドのためにXCodeもインストールしてもらう必要があり、しかもそれが判明したのが出先だったのでモバイル回線で3GBとかのXCodeをダウンロードされるのを待たなければならなくなってしまい…みたいな。

こういう事態を考えると、各機種むけのバイナリをクロスコンパイルできるというGoを使えるようにしておくといいのかなとかなり思った。sqlite3とかxlsファイルの読み込みもあるみたい。余裕あるときにたいしたことしてない今回のをGoに移植できるとよさそう（その余裕がないのだけど…）

- [mattn/go-sqlite3][1]
- [Go言語でエクセルファイル (.xlsx) を読み込む - 森薫の日記][2]

ちなみにこういう非開発者にインストールして作業してもらう想定の運用ツールって何度かつくったことがあり、一度はこういうときこそTitanium Desktopだろ！　と思って乗り出したのだけどけっこう痛い目にあった（gemのpathの問題があって開発時は動いても別環境では動かないとか…　Titanium Desktopってもうプロダクト継続してないのかな？）。別の機会のときにはOpenOfficeでシートに所定の項目を埋めてスクリプトを実行するとhtmlが生成されるみたいなツールで渡したこともあった。これは環境がつくってもらいやすいというメリットを期待したんだけど、それでもけっこう苦労した記憶がある（どういう問題だったのか忘れてしまった）。いまだとGoogle Spreadsheetのスクリプトだともうちょっとよさそう。

[1]:	https://github.com/mattn/go-sqlite3
[2]:	http://kaorumori.hatenadiary.com/entry/2014/08/09/232553